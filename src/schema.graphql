mutation AuthLogin($login: String = "", $password: String = "") {
  login_handler(login: $login, password: $password) {
    access_token
  }
}

mutation UpdateToken {
  refreshToken {
    access_token
  }
}

mutation SignUpJobseeker(
  $start_date: date = ""
  $speciality: String = ""
  $role: String = ""
  $phone: String = ""
  $password: String = ""
  $name_institution: String = ""
  $name: String = ""
  $middleName: String = ""
  $login: String = ""
  $lastName: String = ""
  $group: String = ""
  $gender: String = ""
  $faculity: String = ""
  $email: String = ""
  $end_date: date = ""
  $education_form: String = ""
  $dateBirth: date = ""
) {
  signUp_jobseeker(
    education_form: $education_form
    email: $email
    faculity: $faculity
    gender: $gender
    group: $group
    lastName: $lastName
    login: $login
    middleName: $middleName
    name: $name
    name_institution: $name_institution
    password: $password
    phone: $phone
    role: $role
    speciality: $speciality
    dateBirth: $dateBirth
    start_date: $start_date
    end_date: $end_date
  ) {
    account_id
  }
}

mutation SignUpOrganization(
  $name_employer: String = ""
  $email: String = ""
  $phone: String = ""
  $inn_organization: String = ""
) {
  insert_employer(
    objects: {
      name_employer: $name_employer
      email: $email
      phone: $phone
      employer_organizations: { data: { inn_organization: $inn_organization } }
    }
  ) {
    returning {
      id_employer
      employer_organizations {
        id_organization
      }
    }
  }
}

query GetJobseekerById($_eq: uuid = "") {
  jobseeker(where: { account_id: { _eq: $_eq } }) {
    dateBirth
    email
    gender
    jobseeker_id
    lastName
    middleName
    name
    phone
    jobseeker_educations {
      average_score
      education_form
      educational_institution_id
      end_date
      faculity
      group
      speciality
      start_date
      jobseeker_education_id
    }
    account_id
    account {
      login
      role
    }
  }
}
